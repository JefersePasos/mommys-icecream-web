<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title th:text="${producto.id != null} ? 'Editar Producto' : 'Nuevo Producto'">Producto</title>
  <link rel="stylesheet" th:href="@{/css/estilos.css}" />
</head>
<body>
  <!-- Barra superior reutilizada -->
  <header>
    <div class="navbar">
      <a class="brand" th:href="@{/}">
        <img th:src="@{/img/logo.png}" alt="Logo Mommy's ice cream" />
        <h1>
          <span th:text="${brandLine1} ?: 'Mommy’s'"></span>
          <span th:text="${brandLine2} ?: 'Ice Cream'"></span>
        </h1>
      </a>

      <nav class="nav-menu">
        <a th:href="@{/comprar}"          th:text="#{nav.comprar}">Comprar</a>
        <a th:href="@{/productos/listar}" th:text="#{nav.catalogo}">Catálogo</a>
        <a th:href="@{/sobre-nosotros}"   th:text="#{nav.sobreNosotros}">Sobre Nosotros</a>
        <a th:href="@{/contacto}"         th:text="#{nav.contacto}">Contáctenos</a>
      </nav>

      <div class="nav-actions">
        <span th:text="${lang} ?: 'ES'">ES</span>
        <a th:href="@{/carrito}" title="Carrito" style="text-decoration:none;">
          <img th:src="@{/img/carrito.png}" alt="Carrito" style="width:28px;height:28px;object-fit:cover;" />
        </a>
        <a th:href="@{/login}" title="Cuenta" style="text-decoration:none;">
          <img th:src="@{/img/cuenta.png}" alt="Perfil" style="width:28px;height:28px;object-fit:cover;border-radius:50%;" />
        </a>
      </div>
    </div>
  </header>

  <!-- Contenido -->
  <div class="centrado" style="align-items:flex-start;">
    <div class="contenedor-formulario" style="max-width:560px; width:100%;">
      <h2 style="margin-top:0;"
          th:text="${producto.id != null} ? 'Editar Producto' : 'Nuevo Producto'">Producto</h2>

      <form th:action="@{/productos/guardar}" th:object="${producto}" method="post">
        <input type="hidden" th:field="*{id}" />

        <label for="sabor"><strong>Sabor</strong></label>
        <input id="sabor" type="text" th:field="*{sabor}" placeholder="Sabor del helado" required />

        <label for="descripcion"><strong>Descripción</strong></label>
        <input id="descripcion" type="text" th:field="*{descripcion}" placeholder="Descripción del helado" required />

        <label for="estado"><strong>Estado</strong></label>
        <!-- el select hereda estilos de inputs; por si acaso igualamos padding/borde -->
        <select id="estado" th:field="*{status}"
                style="width:100%; padding:0.6em; margin:0.5em 0 1em 0; border:1px solid var(--gris); border-radius:8px; font-size:1em;">
          <option th:value="true">Disponible</option>
          <option th:value="false">No disponible</option>
        </select>

  <label for="imagen"><strong>Imagen (URL)</strong></label>
  <input id="imagen" type="url" th:field="*{imagen}" placeholder="https://example.com/imagen.jpg" />

        <!-- Acciones -->
        <div style="display:flex; gap:10px; margin-top:6px;">
          <button type="submit" class="btn pill" style="width:100%; font-weight: 600">Guardar</button>
          <button th:href="@{/productos/dashboardProductos}" class="btn pill" style="background:var(--gris); color:var(--texto); width:100%; text-align:center; text-decoration:none;">
            Volver
          </button>
        </div>
      </form>
    </div>
  </div>

  <footer>
            <p>&copy; 2025 Mommys Ice Cream</p>
        </footer>
</body>
</html>
