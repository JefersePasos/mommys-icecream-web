
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Reseñas Pendientes</title>
    <link rel="stylesheet" th:href="@{/css/estilos.css}">
</head>

<body>

<header>
    <div class="navbar">
        <a class="brand" th:href="@{/}">
            <img th:src="@{/img/logo.png}" alt="Logo Mommy's Ice Cream"/>
            <h1>Mommy’s Ice Cream</h1>
        </a>

        <nav class="nav-menu">
            <a th:href="@{/productos/dashboardProductos}">Productos</a>
            <a th:href="@{/reviews/pendientes}">Reseñas</a>
        </nav>
    </div>
</header>

<main class="catalogo-contenido" style="max-width:900px;margin:auto;">

    <h2 class="catalogo-title" style="margin:20px 0;">Reseñas Pendientes de Aprobación</h2>

    <div th:if="${#lists.isEmpty(reviews)}">
        <p>No hay reseñas pendientes.</p>
    </div>

    <div th:each="review : ${reviews}" class="tile" style="padding:20px; margin-bottom:20px;">
        
        <p><strong>Producto:</strong> <span th:text="review.producto.nombre"></span></p>

        <p><strong>Usuario:</strong> 
            <span th:text="review.user != null ? review.user.nombre : 'Anónimo'"></span>
        </p>

        <p><strong>Valoración:</strong> <span th:text="'⭐'.repeat(review.rating)"></span></p>

        <p><strong>Comentario:</strong></p>
        <p th:text="review.comment"></p>

        <div style="margin-top:15px; display:flex; gap:10px;">

            <!-- APROBAR -->
            <form th:action="@{'/reviews/aprobar/' + ${review.id}}" method="post">
                <button type="submit" class="btn pill" 
                        style="background-color:#4CAF50;color:white;">
                    Aprobar
                </button>
            </form>

            <!-- ELIMINAR -->
            <form th:action="@{'/reviews/eliminar/' + ${review.id}}" method="post">
                <button type="submit" class="btn pill" 
                        style="background-color:#D9534F;color:white;">
                    Eliminar
                </button>
            </form>

        </div>
    </div>

</main>

<footer>
    <p>&copy; 2025 Mommys Ice Cream</p>
</footer>

</body>
</html>
